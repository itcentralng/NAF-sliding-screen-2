<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../static/css/all.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/sections.css">
  <title>Explore Years</title>
</head>
<body>
  <header>
    <nav class="navbar glass-background">
      <h2>Explore Years</h2>
      <p>Choose a decade to explore the distinguished leaders of that era</p>
    </nav>
  </header>
  <section>
    <div class="section-container">
      <div class="section-list">
        <div class="section glass-background home">
            <a href="welcome.html">
              <img src="img/Welcomescreen.png" alt="">
              <h2>Home</h2>
              <p>Return to home to start afresh</p>
            </a>
          </div>
        <div class="section glass-background decade-67-77">
            <a href="chiefs-1967-1977.html">
              <img src="img/unsplash_DUCsPrpcNaw.png" alt="">
              <h2>1967 - 1977</h2>
              <p>The founding era and post-civil war reconstruction of the Air Force</p>
            </a>
          </div>
          <div class="section glass-background decade-77-87">
            <a href="chiefs-1977-1987.html">
              <img src="img/unsplash_gNPb-LuL0SM.png" alt="">
              <h2>1977 - 1987</h2>
              <p>Expansion and technological advancement of NAF operations</p>
            </a>
          </div>
          <div class="section glass-background decade-87-97">
            <a href="chiefs-1987-1997.html">
              <img src="img/unsplash_gNPb-LuL0SM (1).png" alt="">
              <h2>1987 - 1997</h2>
              <p>Democratic transition and enhanced operational capabilities</p>
            </a>
          </div>
          <div class="section glass-background decade-97-07">
            <a href="chiefs-1997-2007.html">
              <img src="img/unsplash_gNPb-LuL0SM (2).png" alt="">
              <h2>1997 - 2007</h2>
              <p>New millennium challenges and counter-terrorism operations</p>
            </a>
          </div>
          <div class="section glass-background decade-07-17">
            <a href="chiefs-2007-2017.html">
              <img src="img/unsplash_gNPb-LuL0SM (3).png" alt="">
              <h2>2007 - 2017</h2>
              <p>Modern warfare adaptation and regional security operations</p>
            </a>
          </div>
          <div class="section glass-background decade-17-27">
            <a href="chiefs-2017-2027.html">
              <img src="img/unsplash_gNPb-LuL0SM (4).png" alt="">
              <h2>2017 - 2027</h2>
              <p>Contemporary leadership and future-focused strategic initiatives</p>
            </a>
          </div>
      </div>
    </div>
  </section>
  <script src="js/socket.io.min.js"></script>
  <script src="js/navigation-helper.js"></script>
  <script>
    // Initialize socket connection
    const socket = io.connect("http://127.0.0.1:5550");

    // Socket event listeners
    socket.on('connect', function() {
      console.log('Connected to server');
    });
    
    socket.on('arduino_response', function(data) {
      console.log('Arduino response:', data);
    });
    
    socket.on('disconnect', function() {
      console.log('Disconnected from server');
    });
    
    // Page fade-in effect
    document.addEventListener('DOMContentLoaded', function() {
      document.body.style.opacity = '0';
      document.body.style.transition = 'opacity 0.6s ease-in';
      
      setTimeout(() => {
        document.body.style.opacity = '1';
      }, 100);
      
      // Add staggered animation to section cards
      const sections = document.querySelectorAll('.section');
      sections.forEach((section, index) => {
        section.style.opacity = '0';
        section.style.transform = 'translateY(30px)';
        section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        
        setTimeout(() => {
          section.style.opacity = '0.7';
          section.style.transform = 'translateY(0)';
        }, 200 + (index * 150));
      });
      
      // Add click transition effects
      sections.forEach(section => {
        const link = section.querySelector('a');
        if (link) {
          link.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Get decade name based on class
            let decadeName = '';
            if (section.classList.contains('home')) {
              decadeName = 'home';
            } else if (section.classList.contains('decade-67-77')) {
              decadeName = '1967-1977';
            } else if (section.classList.contains('decade-77-87')) {
              decadeName = '1977-1987';
            } else if (section.classList.contains('decade-87-97')) {
              decadeName = '1987-1997';
            } else if (section.classList.contains('decade-97-07')) {
              decadeName = '1997-2007';
            } else if (section.classList.contains('decade-07-17')) {
              decadeName = '2007-2017';
            } else if (section.classList.contains('decade-17-27')) {
              decadeName = '2017-2027';
            }
            
            // Send decade name to socket
            if (decadeName) {
              socket.emit('send_to_arduino', {
                text: decadeName
              });
              console.log('Sent to Arduino:', decadeName);
            }
            
            // Add loading state to clicked section
            section.style.transform = 'scale(0.95)';
            section.style.opacity = '1';
            section.style.transition = 'all 0.3s ease';
            
            // Add ripple effect
            const ripple = document.createElement('div');
            ripple.style.cssText = `
              position: absolute;
              width: 20px;
              height: 20px;
              border-radius: 50%;
              background: rgba(255, 255, 255, 0.6);
              transform: translate(-50%, -50%);
              animation: ripple 0.6s linear;
              pointer-events: none;
              z-index: 10;
            `;
            
            const rect = section.getBoundingClientRect();
            ripple.style.left = (e.clientX - rect.left) + 'px';
            ripple.style.top = (e.clientY - rect.top) + 'px';
            section.appendChild(ripple);
            
            // Navigate with transition - use the stored last section for "from"
            setTimeout(() => {
              const targetPage = this.href.split('page=')[1] || this.href;
              const targetSection = decadeName;
              
              // Use the navigation helper to properly handle transitions
              if (typeof navigateWithSlide === 'function') {
                navigateWithSlide(targetPage, targetSection);
              } else {
                window.location.href = this.href;
              }
            }, 400);
          });
        }
      });
      
      // Initialize navigation state when page loads
      // Don't clear last section here - we want to preserve it for transitions
      console.log('Explore years page loaded. Last section:', navState.getLastSection());
      
      // Store current section as home since we're on the explore years page
      navState.storeCurrentSection('home');
    });
    
    // Add ripple animation CSS
    const rippleStyle = document.createElement('style');
    rippleStyle.textContent = `
      @keyframes ripple {
        to {
          transform: translate(-50%, -50%) scale(20);
          opacity: 0;
        }
      }
    `;
    document.head.appendChild(rippleStyle);
  </script>
</body>
</html>
