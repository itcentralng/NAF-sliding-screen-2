<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../static/css/all.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/sections.css">
  <title>Explore Years</title>
</head>
<body>
  <header>
    <nav class="navbar glass-background">
      <h2>Explore Years</h2>
      <p>Choose a decade to explore the distinguished leaders of that era</p>
    </nav>
  </header>
  <section>
    <div class="section-container">
      <div class="section-list">
        <div class="section glass-background home">
            <a href="gradient-transition.html?section=home&page=welcome.html">
              <img src="img/Welcomescreen.png" alt="">
              <h2>Home</h2>
              <p>Return to home to start afresh</p>
            </a>
          </div>
        <div class="section glass-background decade-60s">
            <a href="gradient-transition.html?section=1960s&page=chiefs-1960s.html">
              <img src="img/unsplash_DUCsPrpcNaw.png" alt="">
              <h2>1963 - 1969</h2>
              <p>The founding era of the Nigerian Air Force and its first designated chiefs</p>
            </a>
          </div>
          <div class="section glass-background decade-70s">
            <a href="gradient-transition.html?section=1970s&page=chiefs-1970s.html">
              <img src="img/unsplash_gNPb-LuL0SM.png" alt="">
              <h2>1970 - 1979</h2>
              <p>Post-civil war reconstruction and modernization of the Air Force</p>
            </a>
          </div>
          <div class="section glass-background decade-80s">
            <a href="gradient-transition.html?section=1980s&page=chiefs-1980s.html">
              <img src="img/unsplash_gNPb-LuL0SM (1).png" alt="">
              <h2>1980 - 1989</h2>
              <p>Expansion and technological advancement of NAF operations</p>
            </a>
          </div>
          <div class="section glass-background decade-90s">
            <a href="gradient-transition.html?section=1990s&page=chiefs-1990s.html">
              <img src="img/unsplash_gNPb-LuL0SM (2).png" alt="">
              <h2>1990 - 1999</h2>
              <p>Democratic transition and enhanced operational capabilities</p>
            </a>
          </div>
          <div class="section glass-background decade-2000s">
            <a href="gradient-transition.html?section=2000s&page=chiefs-2000s.html">
              <img src="img/unsplash_gNPb-LuL0SM (3).png" alt="">
              <h2>2000 - 2009</h2>
              <p>New millennium challenges and counter-terrorism operations</p>
            </a>
          </div>
          <div class="section glass-background decade-2010s">
            <a href="gradient-transition.html?section=2010s&page=chiefs-2010s.html">
              <img src="img/unsplash_gNPb-LuL0SM (4).png" alt="">
              <h2>2010 - 2019</h2>
              <p>Modern warfare adaptation and regional security operations</p>
            </a>
          </div>
          <div class="section glass-background decade-2020s">
            <a href="gradient-transition.html?section=2020s&page=chiefs-2020s.html">
              <img src="img/unsplash_1MNnM1TPTRs.png" alt="">
              <h2>2020 - 2025</h2>
              <p>Contemporary leadership and future-focused strategic initiatives</p>
            </a>
          </div>
      </div>
    </div>
  </section>
  <script src="js/socket.io.min.js"></script>
  <script src="js/navigation-helper.js"></script>
  <script>
    // Initialize socket connection
    const socket = io.connect("http://127.0.0.1:5550");

    // Socket event listeners
    socket.on('connect', function() {
      console.log('Connected to server');
    });
    
    socket.on('arduino_response', function(data) {
      console.log('Arduino response:', data);
    });
    
    socket.on('disconnect', function() {
      console.log('Disconnected from server');
    });
    
    // Page fade-in effect
    document.addEventListener('DOMContentLoaded', function() {
      document.body.style.opacity = '0';
      document.body.style.transition = 'opacity 0.6s ease-in';
      
      setTimeout(() => {
        document.body.style.opacity = '1';
      }, 100);
      
      // Add staggered animation to section cards
      const sections = document.querySelectorAll('.section');
      sections.forEach((section, index) => {
        section.style.opacity = '0';
        section.style.transform = 'translateY(30px)';
        section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        
        setTimeout(() => {
          section.style.opacity = '0.7';
          section.style.transform = 'translateY(0)';
        }, 200 + (index * 150));
      });
      
      // Add click transition effects
      sections.forEach(section => {
        const link = section.querySelector('a');
        if (link) {
          link.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Get decade name based on class
            let decadeName = '';
            if (section.classList.contains('home')) {
              decadeName = 'home';
            } else if (section.classList.contains('decade-60s')) {
              decadeName = '1960s';
            } else if (section.classList.contains('decade-70s')) {
              decadeName = '1970s';
            } else if (section.classList.contains('decade-80s')) {
              decadeName = '1980s';
            } else if (section.classList.contains('decade-90s')) {
              decadeName = '1990s';
            } else if (section.classList.contains('decade-2000s')) {
              decadeName = '2000s';
            } else if (section.classList.contains('decade-2010s')) {
              decadeName = '2010s';
            } else if (section.classList.contains('decade-2020s')) {
              decadeName = '2020s';
            }
            
            // Send decade name to socket
            if (decadeName) {
              socket.emit('send_to_arduino', {
                text: decadeName
              });
              console.log('Sent to Arduino:', decadeName);
            }
            
            // Add loading state to clicked section
            section.style.transform = 'scale(0.95)';
            section.style.opacity = '1';
            section.style.transition = 'all 0.3s ease';
            
            // Add ripple effect
            const ripple = document.createElement('div');
            ripple.style.cssText = `
              position: absolute;
              width: 20px;
              height: 20px;
              border-radius: 50%;
              background: rgba(255, 255, 255, 0.6);
              transform: translate(-50%, -50%);
              animation: ripple 0.6s linear;
              pointer-events: none;
              z-index: 10;
            `;
            
            const rect = section.getBoundingClientRect();
            ripple.style.left = (e.clientX - rect.left) + 'px';
            ripple.style.top = (e.clientY - rect.top) + 'px';
            section.appendChild(ripple);
            
            // Navigate with transition - use the stored last section for "from"
            setTimeout(() => {
              const targetPage = this.href.split('page=')[1] || this.href;
              const targetSection = decadeName;
              
              // Use the navigation helper to properly handle transitions
              if (typeof navigateWithSlide === 'function') {
                navigateWithSlide(targetPage, targetSection);
              } else {
                window.location.href = this.href;
              }
            }, 400);
          });
        }
      });
      
      // Initialize navigation state when page loads
      // Don't clear last section here - we want to preserve it for transitions
      console.log('Explore years page loaded. Last section:', navState.getLastSection());
    });
    
    // Add ripple animation CSS
    const rippleStyle = document.createElement('style');
    rippleStyle.textContent = `
      @keyframes ripple {
        to {
          transform: translate(-50%, -50%) scale(20);
          opacity: 0;
        }
      }
    `;
    document.head.appendChild(rippleStyle);
  </script>
</body>
</html>
